<h3>LOGIN</h3>
<input type="text" id="username" placeholder="login">
<br>
<input type="password" id="password" placeholder="password">
<button onclick="login()">Login</button>
<br>

<script>
  async function login() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    try {
      const response = await axios.post("https://lumituneapp.azurewebsites.net/auth/login", {
        username,
        password
      }, {
        headers: {
          "Content-Type": "application/json"
        },
        withCredentials: true
      });
      console.log("Login success:", response.data);
    } catch (error) {
      console.error("Login failed:", error.response?.data || error);
    }
  }
</script>


<input type="file" id="fileInput" />

<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
  document.getElementById("fileInput").addEventListener("change", async function () {
    const file = this.files[0];
    const formData = new FormData();
    formData.append("file", file);

    try {
      const response = await axios.post("https://lumituneapp.azurewebsites.net/images/api/upload", formData, {
        headers: {
          "Content-Type": "multipart/form-data"
        },
        withCredentials: true
      });
      console.log("Uploaded:", response.data);
    } catch (error) {
      console.error("Upload failed:", error);
    }
  });
</script>

<button onclick="getAllUsers()">All users</button>
<script>
  async function getAllUsers() {
    const username = document.getElementById("username").value;
    const password = document.getElementById("password").value;

    try {
      const response = await axios.get("https://lumituneapp.azurewebsites.net/api/users/all", {
        headers: {
          "Content-Type": "application/json"
        },
        withCredentials: true
      });
      console.log("All users success:", response.data);
    } catch (error) {
      console.error("All users failed:", error.response?.data || error);
    }
  }
</script>

<button onclick="getAdmin()">Get admin user</button>
<script>
  async function getAdmin() {
    try {
      const response = await axios.get("https://lumituneapp.azurewebsites.net/api/users/username/admin", {
        headers: {
          "Content-Type": "application/json"
        },
        withCredentials: true
      });
      console.log("Admin user success:", response.data);
    } catch (error) {
      console.error("Admin user failed:", error.response?.data || error);
    }
  }
</script>